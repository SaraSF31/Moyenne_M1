<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moyennes M1 SC</title>

<style>
body{
    margin:0;
    min-height:100vh;
    font-family:Segoe UI, sans-serif;
    background:linear-gradient(270deg,#667eea,#764ba2,#43cea2);
    background-size:600% 600%;
    animation:bg 12s ease infinite;
    display:flex;
    justify-content:center;
    align-items:center;
}
@keyframes bg{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
.container{
    background:rgba(255,255,255,0.18);
    backdrop-filter:blur(15px);
    border-radius:20px;
    padding:20px;
    width:95%;
    max-width:1200px;
    box-shadow:0 25px 50px rgba(0,0,0,.3);
}
h2{
    color:white;
    text-align:center;
}
H3{
    color:rgb(0, 0, 0);
    text-align:center;
}
.table-wrap{overflow-x:auto}
table{
    width:100%;
    border-collapse:collapse;
    color:white;
    min-width:900px;
}
th,td{
    padding:8px;
    text-align:center;
}
th{background:rgba(0,0,0,.35)}
input{
    width:60px;
    border-radius:8px;
    border:none;
    text-align:center;
    font-weight:bold;
}
input:focus{
    outline:none;
    box-shadow:0 0 10px #00ffd5;
}
.success{color:#00ff9c;font-weight:bold;transition:0.3s;}
.fail{color:#ff5c5c;font-weight:bold;transition:0.3s;}

button{
    width:100%;
    margin-top:15px;
    padding:14px;
    font-size:18px;
    font-weight:bold;
    border:none;
    border-radius:30px;
    background:linear-gradient(135deg,#00ffd5,#00b3ff);
    cursor:pointer;
}
button:hover{
    transform:scale(1.01);
    box-shadow:0 0 25px #00ffd5;
}

.result{
    margin-top:15px;
    text-align:center;
    font-size:22px;
    font-weight:bold;
    color:white;
}

.total-credits{
    margin-top:15px;
    text-align:center;
    font-size:20px;
    font-weight:bold;
    color:#ffff66;
}
</style>
</head>

<body>

<div class="container">
<h2>Moyennes M1 SC </h2>
<H3>SEMESTRE 1</H3>

<div class="table-wrap">
<table>
<tr>
<th>Module</th>
<th>Unité</th>
<th>Coef</th>
<th>Crédit</th>
<th>CC</th>
<th>EF</th>
<th>Moyenne Module</th>
<th>Crédit Obtenu</th>
<th>Moyenne Unité</th>
</tr>

<tr>
<td>BDA</td><td>UEF11</td><td>3</td><td>5</td>
<td><input id="cc1"></td><td><input id="ef1"></td>
<td id="m1"></td><td id="cr1"></td><td rowspan="2" id="uef11"></td>
</tr>

<tr>
<td>AAC</td><td>UEF11</td><td>3</td><td>5</td>
<td><input id="cc2"></td><td><input id="ef2"></td>
<td id="m2"></td><td id="cr2"></td>
</tr>

<tr>
<td>OMC</td><td>UEF12</td><td>3</td><td>4</td>
<td><input id="cc3"></td><td><input id="ef3"></td>
<td id="m3"></td><td id="cr3"></td><td rowspan="2" id="uef12"></td>
</tr>

<tr>
<td>IA4SC</td><td>UEF12</td><td>3</td><td>4</td>
<td><input id="cc4"></td><td><input id="ef4"></td>
<td id="m4"></td><td id="cr4"></td>
</tr>

<tr>
<td>ISI</td><td>UEM1</td><td>2</td><td>5</td>
<td><input id="cc5"></td><td><input id="ef5"></td>
<td id="m5"></td><td id="cr5"></td><td rowspan="2" id="uem1"></td>
</tr>

<tr>
<td>EH</td><td>UEM1</td><td>2</td><td>4</td>
<td><input id="cc6"></td><td><input id="ef6"></td>
<td id="m6"></td><td id="cr6"></td>
</tr>

<tr>
<td>DEVOPS</td><td>UET1</td><td>1</td><td>2</td>
<td><input id="cc7"></td><td><input id="ef7"></td>
<td id="m7"></td><td id="cr7"></td><td id="uet1"></td>
</tr>

<tr>
<td>RGPD</td><td>UED1</td><td>1</td><td>1</td>
<td><input id="cc8"></td><td><input id="ef8"></td>
<td id="m8"></td><td id="cr8"></td><td id="ued1"></td>
</tr>
</table>
</div>

<button onclick="calculer()">Calculer</button>

<div class="result">
Moyenne Générale : <span id="mg">--</span>
</div>

<div class="total-credits">
Total Crédits Obtenus : <span id="totalCredits">--</span>
</div>

</div>

<script>
// Charger notes depuis localStorage
window.onload = function(){
for(let i=1;i<=8;i++){
        if(localStorage.getItem("cc"+i)) document.getElementById("cc"+i).value = localStorage.getItem("cc"+i);
        if(localStorage.getItem("ef"+i)) document.getElementById("ef"+i).value = localStorage.getItem("ef"+i);
    }
    calculer(); // mise à jour automatique
}

// Sauvegarde automatique
for(let i=1;i<=8;i++){
    document.getElementById("cc"+i).addEventListener("input", function(){
        localStorage.setItem("cc"+i,this.value);
    });
    document.getElementById("ef"+i).addEventListener("input", function(){
        localStorage.setItem("ef"+i,this.value);
    });
}

function calculer(){
    let cc=[], ef=[], moy=[], coef=[3,3,3,3,2,2,1,1], credit=[5,5,4,4,5,4,2,1];
    let sommeGen=0, totalCr=0;

    for(let i=1;i<=8;i++){
        cc[i]=parseFloat(document.getElementById("cc"+i).value)||0;
        ef[i]=parseFloat(document.getElementById("ef"+i).value)||0;
        moy[i]=(cc[i]*0.4)+(ef[i]*0.6);

        document.getElementById("m"+i).innerText=moy[i].toFixed(2);
        let crObt = (moy[i]>=10 ? credit[i-1] : 0);
        totalCr += crObt;
        document.getElementById("cr"+i).innerText = crObt;
        document.getElementById("cr"+i).className = moy[i]>=10?"success":"fail";

        sommeGen += moy[i]*coef[i-1];
    }

    // Moyennes unités
    document.getElementById("uef11").innerText=((moy[1]+moy[2])/2).toFixed(2);
    document.getElementById("uef12").innerText=((moy[3]+moy[4])/2).toFixed(2);
    document.getElementById("uem1").innerText=((moy[5]+moy[6])/2).toFixed(2);
    document.getElementById("uet1").innerText=moy[7].toFixed(2);
    document.getElementById("ued1").innerText=moy[8].toFixed(2);

    // Moyenne générale
    document.getElementById("mg").innerText=(sommeGen/18).toFixed(2);

    // Total crédits
    document.getElementById("totalCredits").innerText = totalCr;
}
</script>

</body>
</html>